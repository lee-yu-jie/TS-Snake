(function(){"use strict";var e={8818:function(e,n,t){var r=t(9242),o=t(3396),a=t(7139),l=t(4870);const i={id:"main"},u={id:"snake"},s=(0,o._)("div",null,null,-1),v=(0,o._)("div",null,null,-1),c=(0,o._)("div",null,null,-1),f=(0,o._)("div",null,null,-1),d=[s,v,c,f],p={id:"score-panel"},_={id:"score"},w={id:"level"},k={key:0,class:"controller"},g=5,y=10;var b=(0,o.aZ)({__name:"SnakeGame",props:{isEasy:{type:Boolean}},emits:["gameOver"],setup(e,{emit:n}){const t=e,r=(0,l.iH)(!1),s=(0,l.iH)(!1),v=(0,l.iH)(0),c=(0,l.iH)(1),f=(0,l.iH)(""),b=(0,l.iH)(null),h=(0,l.iH)(0),m=(0,l.iH)(null),O=()=>{const e=10*Math.round(29*Math.random()),n=10*Math.round(29*Math.random());null!==m.value&&(m.value.style.left=n+"px",m.value.style.top=e+"px")},H=()=>{v.value+=1,v.value%g===0&&x()},x=()=>{c.value>y||(c.value+=1)},A=e=>{!1===s.value&&(s.value=!0,D()),f.value=e},E=e=>{f.value=e.key,!1===s.value&&(s.value=!0,D())},D=async()=>{let e=b.value?.offsetLeft||0,t=b.value?.offsetTop||0,r=e,a=t;switch(f.value){case"ArrowUp":t-=10;break;case"ArrowDown":t+=10;break;case"ArrowLeft":e-=10;break;case"ArrowRight":e+=10;break;default:break}if(e<0||e>290||t<0||t>290)return void n("gameOver","撞到牆壁了");m.value?.offsetLeft===e&&m.value?.offsetTop===t&&(h.value+=1,O(),H(),await(0,o.Y3)());const l=document.querySelectorAll(".snakeBody");if(h.value>0)try{l.forEach((n=>{const r=n;if(r.offsetLeft===e&&r.offsetTop===t)throw new Error}))}catch(i){return void n("gameOver","撞到身體了")}null!==b.value&&(b.value.style.left=e+"px",b.value.style.top=t+"px",l.forEach((e=>{const n=e,t=n.offsetLeft,o=n.offsetTop;n.style.left=r+"px",n.style.top=a+"px",r=t,a=o})),setTimeout((()=>{D()}),200-20*(c.value-1)))};return(0,o.bv)((()=>{/Mobi|Android|iPhone/i.test(navigator.userAgent)?r.value=!0:document.addEventListener("keydown",E),O()})),(e,n)=>((0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",{id:"stage",class:(0,a.C_)({"easy-mode":t.isEasy})},[(0,o._)("div",u,[(0,o._)("div",{ref_key:"snakeHead",ref:b,class:"snakeHead"},null,512),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.value,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e,class:"snakeBody",ref_for:!0,ref:"snakeBod"})))),128))]),(0,o._)("div",{id:"food",ref_key:"food",ref:m},d,512)],2),(0,o._)("div",p,[(0,o._)("div",null,[(0,o.Uk)(" SCORE: "),(0,o._)("span",_,(0,a.zw)(v.value),1)]),(0,o._)("div",null,[(0,o.Uk)(" LEVEL: "),(0,o._)("span",w,(0,a.zw)(c.value),1)])]),r.value?((0,o.wg)(),(0,o.iD)("div",k,[(0,o._)("div",null,[(0,o._)("button",{onClick:n[0]||(n[0]=e=>A("ArrowUp")),id:"up"},"上"),(0,o._)("button",{onClick:n[1]||(n[1]=e=>A("ArrowDown")),id:"down"},"下"),(0,o._)("button",{onClick:n[2]||(n[2]=e=>A("ArrowLeft")),id:"left"},"左"),(0,o._)("button",{onClick:n[3]||(n[3]=e=>A("ArrowRight")),id:"right"},"右")])])):(0,o.kq)("",!0)]))}});const h=b;var m=h;const O={class:"over-container"},H={class:"over-dialog"};var x=(0,o.aZ)({__name:"OverDialog",props:{reStart:{type:Function},overString:{}},setup(e){const n=e;return(e,t)=>((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("div",H,[(0,o._)("p",null,(0,a.zw)(n.overString),1),(0,o._)("button",{onClick:t[0]||(t[0]=(...n)=>e.reStart&&e.reStart(...n))},"重新開始")])]))}}),A=t(89);const E=(0,A.Z)(x,[["__scopeId","data-v-5779b767"]]);var D=E;const S=(0,o._)("div",{class:"sign"},[(0,o._)("p",null,"- 請按 '上' , '下' , '左' , '右' 鍵開始遊戲 - ")],-1),C={class:"button-box"};var L=(0,o.aZ)({__name:"App",setup(e){const n=(0,l.iH)((new Date).getTime()),t=(0,l.iH)(!1),r=(0,l.iH)(""),i=(0,l.iH)(!0),u=()=>{n.value=(new Date).getTime(),t.value=!1},s=e=>{r.value=e,t.value=!0},v=()=>{i.value=!i.value};return(e,l)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[S,(0,o._)("div",C,[(0,o._)("button",{onClick:v},"切換"+(0,a.zw)(i.value?"空白":"隔線")+"模式",1)]),((0,o.wg)(),(0,o.j4)(m,{key:n.value,isEasy:i.value,onGameOver:s},null,8,["isEasy"])),t.value?((0,o.wg)(),(0,o.j4)(D,{key:0,reStart:u,overString:r.value},null,8,["overString"])):(0,o.kq)("",!0)],64))}});const T=L;var j=T;(0,r.ri)(j).mount("#app")}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={exports:{}};return e[r].call(a.exports,a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(n,r,o,a){if(!r){var l=1/0;for(v=0;v<e.length;v++){r=e[v][0],o=e[v][1],a=e[v][2];for(var i=!0,u=0;u<r.length;u++)(!1&a||l>=a)&&Object.keys(t.O).every((function(e){return t.O[e](r[u])}))?r.splice(u--,1):(i=!1,a<l&&(l=a));if(i){e.splice(v--,1);var s=o();void 0!==s&&(n=s)}}return n}a=a||0;for(var v=e.length;v>0&&e[v-1][2]>a;v--)e[v]=e[v-1];e[v]=[r,o,a]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,r){var o,a,l=r[0],i=r[1],u=r[2],s=0;if(l.some((function(n){return 0!==e[n]}))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(u)var v=u(t)}for(n&&n(r);s<l.length;s++)a=l[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(v)},r=self["webpackChunkts_snake"]=self["webpackChunkts_snake"]||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))}();var r=t.O(void 0,[998],(function(){return t(8818)}));r=t.O(r)})();
//# sourceMappingURL=app.9d98e05c.js.map